{"version":3,"sources":["components/links/links.jsx","components/login-form/login-form.jsx","components/register-form/register-form.jsx","components/logout/logout.jsx","components/chat/chat.jsx","components/certificate/certificate.jsx","components/certificate-store/certifiacte-store.jsx","components/switch/switch.jsx","App.js","components/session-storage-hook/session-storage-hook.js","reportWebVitals.js","index.js"],"names":["Links","props","className","to","currentUser","token","LoginForm","useState","form","setForm","errorMessage","setErrorMessage","history","useHistory","onSubmit","e","a","preventDefault","data","FormData","Object","entries","key","value","append","fetch","config","root_url","mode","method","body","response","status","json","repeatToken","prompt","headers","JSON","stringify","setCurrentUser","username","push","window","alert","message","confirm","handleInputChange","tmp","target","id","name","files","Form","encType","FormGroup","Label","for","Input","type","onChange","placeholder","Button","style","color","logout","NavLink","onClick","RegisterForm","useForm","register","handleSubmit","setValue","handleChange","event","useEffect","ref","required","ReactDOM","render","StrictMode","document","getElementById","Logout","pathname","state","from","location","Chat","activeUsers","setActiveUsers","inactiveUsers","setInactiveUsers","refresh","setRefresh","isOpenActive","setIsOpenActive","isOpenInactive","setIsOpenInactive","undefined","receiver","setReceiver","blockedReceivers","setBlockedReceivers","messages","setMessages","newMessage","setNewMessage","setTimeout","fetchActiveUsers","then","includes","fetchReceiverMessages","handleKeyPress","sendMessageToReceiver","handleClick","length","map","val","sender","content","onKeyPress","bearer","withCredentials","credentials","oldArray","setUsers","users","filter","elem","Certificate","validFrom","validTo","download","href","CertificateStore","certificates","setCertificates","fetchCertificatesInfo","index","AppSwitch","isAuth","path","setToken","exact","App","initialValue","React","item","sessionStorage","getItem","parse","error","storedValue","setStoredValue","valueToStore","Function","setItem","useSessionStorage","margin","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.ac1da549.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const Links = props => {\r\n    return (\r\n        <div className={\"links\"}>\r\n            <ul>\r\n                <li>\r\n                    <i className=\"fas fa-home\"/> <Link to=\"/\">Home</Link>\r\n                </li>\r\n                {props.currentUser && props.currentUser.token ? \"\" : (<li>\r\n                    <i className=\"fas fa-sign-in-alt\"/> <Link to=\"/login\">Login</Link>\r\n                </li>)}\r\n                {props.currentUser && props.currentUser.token ? \"\" : (<li>\r\n                    <i className=\"fas fa-user\"/> <Link to=\"/register\">Registration</Link>\r\n                </li>)}\r\n                {props.currentUser && props.currentUser.token ? (<li>\r\n                    <i className=\"fas fa-comments\"/> <Link to=\"/chat\">Chat</Link>\r\n                </li>) : \"\"}\r\n                {props.currentUser && props.currentUser.token ? (<li>\r\n                    <i className=\"fas fa-stamp\"/> <Link to=\"/certificate-store\">Certificate store</Link>\r\n                </li>) : \"\"}\r\n                {props.currentUser && props.currentUser.token ? (<li>\r\n                    <i className=\"fas fa-sign-out-alt\"/> <Link to=\"/logout\">Logout</Link>\r\n                </li>) : \"\"}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport {Button, Form, FormGroup, Label, Input, NavLink} from 'reactstrap';\r\nimport config from '../../config.json'\r\nimport './login-form.css'\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nexport const LoginForm = props => {\r\n    const [form, setForm] = useState({})\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault()\r\n        var data = new FormData();\r\n        for (const [key, value] of Object.entries(form)) {\r\n            data.append(key, value)\r\n        }\r\n        try {\r\n            let response = await fetch(`${config.root_url}/user/login_part_one`, {\r\n                mode: \"cors\",\r\n                method: \"POST\",\r\n                // headers: {\r\n                //     \"content-type\": \"application/json\"\r\n                // },\r\n                body: data\r\n            })\r\n            if (response.status === 200) {\r\n\r\n                const data = await response.json()\r\n                if (data && data.status === 200) {\r\n\r\n                    let repeatToken = true\r\n                    while (repeatToken) {\r\n\r\n                        const token = prompt(\"Token is sent on your email.\\nPlease enter.\", \"\");\r\n\r\n                        if (token == null) continue;\r\n                        let response = await fetch(`${config.root_url}/user/login_part_two`, {\r\n                            mode: \"cors\",\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                \"content-type\": \"application/json\"\r\n                            },\r\n                            body: JSON.stringify({token: token})\r\n                        })\r\n                        if (response.status === 200) {\r\n                            const data = await response.json();\r\n                            if (data && data.status === 200) {\r\n                                props.setCurrentUser({username: data.data.username, token: data.data.token})\r\n                                repeatToken = false;\r\n                                history.push(\"/chat\")\r\n                            }else{\r\n                                window.alert(data.message)\r\n                            }\r\n                        } else {\r\n                            const data = await response.json();\r\n                            repeatToken = window.confirm(data.message + \"\\nDo you want to enter token again?\")\r\n                        }\r\n                    }\r\n                }\r\n                else{\r\n                    window.alert(data.message)\r\n                }\r\n\r\n            } else {\r\n                const message = await response.json();\r\n                setErrorMessage(message.message)\r\n            }\r\n        } catch (e) {\r\n            setErrorMessage(e.message)\r\n        }\r\n\r\n    }\r\n    let handleClickToRegister = e => {\r\n        history.push('/register');\r\n    };\r\n    let handleInputChange = (e) => {\r\n        let tmp = form\r\n        if (e.target.id === \"certificate\")\r\n            tmp[e.target.name] = e.target.files[0]\r\n        else\r\n            tmp[e.target.name] = e.target.value\r\n        setForm(tmp)\r\n    };\r\n    return (<div className={\"login-main\"}>\r\n            <h1>Login</h1>\r\n            <hr/>\r\n            <div className={'login-container'}>\r\n                <Form encType={\"multipart/form-data\"} method='POST' onSubmit={onSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"username\">Username: </Label>\r\n                        <Input type=\"username\" onChange={handleInputChange}\r\n                               name=\"username\" id=\"username\" placeholder=\"Enter username\" value={props.username}/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"password\">Password: </Label>\r\n                        <Input type=\"password\" onChange={handleInputChange}\r\n                               name=\"password\" id=\"password\" placeholder=\"Enter password\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"certificate\">Client certificate: </Label>\r\n                        <Input type=\"file\" onChange={handleInputChange}\r\n                               name=\"certificate\" id=\"certificate\" placeholder=\"Enter certificate\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button type={'submit'}>login user</Button>\r\n                    </FormGroup>\r\n                    {props.username ? (<FormGroup>\r\n                            <Label className=\"label\" style={{color: \"green\"}}>{props.username}</Label>\r\n                        </FormGroup>) :\r\n                        (<FormGroup>\r\n                            <Label className=\"label\">{errorMessage}</Label>\r\n                        </FormGroup>)}\r\n\r\n                    {props.logout ? <FormGroup>\r\n                        <Label className=\"label\" style={{color: \"green\"}}>{\"You successfully logged out\"}</Label>\r\n                    </FormGroup> : \"\"}\r\n                    <FormGroup>\r\n                        <NavLink className={\"register-link\"} onClick={handleClickToRegister}>Register</NavLink>\r\n                    </FormGroup>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Button, Form, FormGroup, Label, Input, NavLink} from 'reactstrap';\r\nimport {useForm} from 'react-hook-form'\r\nimport config from '../../config.json'\r\nimport ReactDOM from \"react-dom\";\r\nimport './register-form.css'\r\nimport {LoginForm} from \"../login-form/login-form\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\n\r\nexport const RegisterForm = props => {\r\n    const {register, handleSubmit, setValue} = useForm();\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    const onSubmit = async data => {\r\n        try {\r\n            let response = await fetch(`${config.root_url}/user/register`, {\r\n                mode: \"cors\",\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"content-type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            if (response.status === 200) {\r\n                history.push('/login');\r\n            } else {\r\n                const message = await response.json();\r\n                setErrorMessage(message.message)\r\n            }\r\n        } catch (e) {\r\n            setErrorMessage(e.message)\r\n        }\r\n\r\n    }\r\n    const handleChange = (event, name) => {\r\n        setValue(name, event.target.value);\r\n    };\r\n    useEffect(() => {\r\n        register({name: \"Username\"});\r\n        register({name: \"Password\"});\r\n        register({name: \"Email\"});\r\n    }, [register]);\r\n\r\n    let handleClickToLogin = e => {\r\n        ReactDOM.render(\r\n            <React.StrictMode>\r\n                <LoginForm/>\r\n            </React.StrictMode>,\r\n            document.getElementById('root'))\r\n    };\r\n\r\n    return (<div className={\"register-main\"}>\r\n            <h1>Registration</h1>\r\n            <hr/>\r\n            <div className={'register-container'}>\r\n                <Form method='POST' onSubmit={handleSubmit(onSubmit)}>\r\n                    <FormGroup>\r\n                        <Label for=\"username\">Username: </Label>\r\n                        <Input onChange={e => handleChange(e, 'Username')} ref={register({required: true})}\r\n                               type=\"username\"\r\n                               name=\"username\" id=\"username\" placeholder=\"Enter username\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"password\">Password: </Label>\r\n                        <Input onChange={e => handleChange(e, 'Password')} ref={register({required: true})}\r\n                               type=\"password\"\r\n                               name=\"password\" id=\"password\" placeholder=\"Enter password\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"email\">Email: </Label>\r\n                        <Input onChange={e => handleChange(e, 'Email')} ref={register({required: true})}\r\n                               type=\"email\"\r\n                               name=\"email\" id=\"email\" placeholder=\"Enter email\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button type={'submit'}>Register user</Button>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label className=\"label\">{errorMessage}</Label>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <NavLink className={\"register-link\"} onClick={handleClickToLogin}>Login</NavLink>\r\n                    </FormGroup>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useEffect} from 'react'\r\nimport {Redirect, useHistory} from 'react-router-dom';\r\n\r\nexport const Logout = props => {\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        props.setCurrentUser(\"\");\r\n    }, [history, props])\r\n\r\n    return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />;;\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport './chat.css'\r\nimport './messages.css'\r\nimport '../../fonts/fontawesome-free-5.15.1-web/css/all.css';\r\nimport config from \"../../config.json\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useHistory} from \"react-router\";\r\n\r\nexport const Chat = props => {\r\n    const [activeUsers, setActiveUsers] = useState([])\r\n    const [inactiveUsers, setInactiveUsers] = useState([])\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [isOpenActive, setIsOpenActive] = useState(true);\r\n    const [isOpenInactive, setIsOpenInactive] = useState(false);\r\n    const [receiver, setReceiver] = useState(undefined)\r\n    const [blockedReceivers, setBlockedReceivers] = useState([])\r\n    const [messages, setMessages] = useState([])\r\n    const [newMessage, setNewMessage] = useState(\"\")\r\n\r\n    const history = useHistory();\r\n\r\n    setTimeout(() => {\r\n        setRefresh(!refresh);\r\n    }, 5_000)\r\n\r\n    const toggleActive = () => setIsOpenActive(!isOpenActive);\r\n    const toggleInactive = () => setIsOpenInactive(!isOpenInactive);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        fetchActiveUsers(history, setActiveUsers, 'active', props.currentUser)\r\n            .then(() => fetchActiveUsers(history, setInactiveUsers, 'inactive', props.currentUser))\r\n            .then(() => {\r\n                if (receiver && !blockedReceivers.includes(receiver)) fetchReceiverMessages(setMessages, blockedReceivers, setBlockedReceivers, props.currentUser, receiver)\r\n            })\r\n\r\n    }, [refresh, receiver, props.currentUser, blockedReceivers, history])\r\n\r\n    if (!props.currentUser) {\r\n        return <Redirect to={{pathname: '/login', state: {from: props.location}}}/>;\r\n    }\r\n\r\n    function openChat(username) {\r\n        setReceiver(username)\r\n    }\r\n\r\n    const handleKeyPress = async (event) => {\r\n        if (event.key === 'Enter') {\r\n            await sendMessageToReceiver(messages, setMessages, blockedReceivers, setBlockedReceivers, props.currentUser, receiver, newMessage)\r\n            setNewMessage(\"\");\r\n        }\r\n    }\r\n\r\n    const handleClick = async () => {\r\n        await sendMessageToReceiver(messages, setMessages, blockedReceivers, setBlockedReceivers, props.currentUser, receiver, newMessage)\r\n        setNewMessage(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className={\"chat\"}>\r\n            <div className={\"users-list-by-activity\"}>\r\n                <div onClick={toggleActive} className={\"activeUserHeader\"}>{activeUsers.length} Online\r\n                    people {isOpenActive ? \"(Opened)\" : \"(Collapsed)\"}</div>\r\n                <div className={`collapse-${isOpenActive ? \"show\" : \"hide\"} active-users`}>\r\n                    {\r\n                        activeUsers.map((val, id) => (\r\n                            <div key={id} onClick={() => openChat(val.username)}\r\n                                 className={\"activeUserItem\"}>{val.username}\r\n                                <i className={`fas fa-circle ${blockedReceivers.includes(val.username) ? \"blocked\" : \"online\"}`}/>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n                <div onClick={toggleInactive} className={\"inactiveUserHeader\"}>{inactiveUsers.length} Offline\r\n                    people {isOpenInactive ? \"(Opened)\" : \"(Collapsed)\"}</div>\r\n                <div className={`collapse-${isOpenInactive ? \"show\" : \"hide\"} inactive-users`}>\r\n                    {\r\n                        inactiveUsers.map((val, id) => (\r\n                            <div key={id} className={\"inactiveUserItem\"}>{val.username} <i\r\n                                className=\"fas fa-circle offline\"/></div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={\"messages-workspace\"}>\r\n                <div className={\"contact\"}>\r\n                    <h2>{receiver}</h2>\r\n                </div>\r\n                <div className={\"messages\"}>\r\n                    <ul>\r\n                        {\r\n                            messages.map((value, id) => (\r\n                                <li key={id}\r\n                                    className={value.sender === props.currentUser.username ? \"me\" : \"him\"}>{value.content}</li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className={\"new-message\"}>\r\n                    <div>\r\n                        <input type=\"text\" value={newMessage} onChange={(e) => setNewMessage(e.target.value)}\r\n                               onKeyPress={handleKeyPress}/>\r\n                        <i className={\"icon fas fa-paper-plane\"} onClick={handleClick}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst sendMessageToReceiver = async (message, setMessages, blockedReceivers, setBlockedReceivers, currentUser, receiver, content) => {\r\n\r\n    const body = JSON.stringify({\r\n        content: content,\r\n        sender: currentUser.username,\r\n        receiver: receiver,\r\n    })\r\n    try {\r\n        const bearer = 'Bearer ' + currentUser.token;\r\n        let response = await fetch(`${config.root_url}/chat/messages/send`, {\r\n            method: 'POST',\r\n            mode: \"cors\",\r\n            withCredentials: true,\r\n            credentials: 'include',\r\n            headers: {\r\n                'Authorization': bearer,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: body\r\n        })\r\n        if (response.status === 200) {\r\n            const data = await response.json();\r\n            if (data && data.status === 200) {\r\n                setMessages(oldArray => [...oldArray, data.data]);\r\n                await fetchReceiverMessages(setMessages, blockedReceivers, setBlockedReceivers, currentUser, receiver)\r\n            } else if (data && data.status === 503) {\r\n                window.alert(\"ALERT! Potential attack, please relog in again.\")\r\n                setBlockedReceivers([...blockedReceivers, receiver])\r\n            } else if (data && data.status === 401) {\r\n                window.alert(data.message)\r\n            } else {\r\n                window.alert(\"Error.\")\r\n            }\r\n        } else {\r\n            window.alert(\"Error.\")\r\n        }\r\n    } catch (e) {\r\n        window.alert(\"Error\")\r\n    }\r\n}\r\n\r\nconst fetchReceiverMessages = async (setMessages, blockedReceivers, setBlockedReceivers, currentUser, receiver) => {\r\n\r\n    try {\r\n        const bearer = 'Bearer ' + currentUser.token;\r\n        let response = await fetch(`${config.root_url}/chat/messages`, {\r\n            method: 'POST',\r\n            mode: \"cors\",\r\n            withCredentials: true,\r\n            credentials: 'include',\r\n            headers: {\r\n                'Authorization': bearer,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(receiver)\r\n        })\r\n        if (response.status === 200) {\r\n            const data = await response.json();\r\n            if (data && data.status === 200) {\r\n                setMessages(data.data)\r\n            } else if (data && data.status === 503) {\r\n                setMessages(data.data)\r\n                if (!blockedReceivers.includes(receiver))\r\n                    setBlockedReceivers([...blockedReceivers, receiver])\r\n                window.alert(\"ALERT! Potential attack, please relog in again.\")\r\n            } else if (data && data.status === 401) {\r\n                window.alert(data.message)\r\n            } else {\r\n                window.alert(\"Error.\")\r\n            }\r\n        } else {\r\n            window.alert(\"Error.\")\r\n        }\r\n    } catch (e) {\r\n        window.alert(\"Error\")\r\n    }\r\n}\r\n\r\nconst fetchActiveUsers = async (history, setUsers, type, currentUser) => {\r\n    try {\r\n        const bearer = 'Bearer ' + currentUser.token;\r\n        let response = await fetch(`${config.root_url}/chat/${type}`, {\r\n            mode: \"cors\",\r\n            withCredentials: true,\r\n            credentials: 'include',\r\n            headers: {\r\n                'Authorization': bearer,\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n        if (response.status === 200) {\r\n            let data = await response.json();\r\n            if (data.status && data.status === 200) {\r\n                let users = data.data.filter(elem => elem.username !== currentUser.username);\r\n                setUsers(users)\r\n            } else if (data.status && data.status === 401) {\r\n                window.alert(data.message)\r\n                history.push(\"/logout\")\r\n            }\r\n        } else {\r\n            window.alert(\"Error.\")\r\n        }\r\n    } catch (e) {\r\n        history.push(\"/logout\")\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nimport './certificate.css'\r\n\r\nexport const Certificate = props => {\r\n    return (\r\n        <div className={\"certificate\"}>\r\n            <div className={\"username\"}>\r\n                {props.data.username}\r\n            </div>\r\n            <div className={\"validFrom\"}>\r\n                {props.data.validFrom}\r\n            </div>\r\n            <div className={\"validTo\"}>\r\n                {props.data.validTo}\r\n            </div>\r\n            {props.data.download ?\r\n                (<div className={\"download\"}>\r\n                    <a href={props.data.download}>Download</a>\r\n                </div>) : \"\"\r\n            }\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport config from \"../../config.json\";\r\nimport {Certificate} from \"../certificate/certificate\";\r\nimport './certificate-store.css'\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nexport const CertificateStore = props => {\r\n    const [certificates, setCertificates] = useState([])\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        fetchCertificatesInfo(history, props.currentUser, setCertificates)\r\n    }, [certificates, props.currentUser, history])\r\n    return (\r\n        <div>\r\n            <div className={\"title\"}>\r\n                <h2>User certificates:</h2>\r\n            </div>\r\n            <div className={\"certificates\"}>\r\n                {certificates.map(((value, index) => (\r\n                    <Certificate key={index} data={value}/>\r\n                )))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst fetchCertificatesInfo = async (history, currentUser, setCertificates) => {\r\n\r\n    try {\r\n        const bearer = 'Bearer ' + currentUser.token;\r\n        let response = await fetch(`${config.root_url}/certificate`, {\r\n            method: 'GET',\r\n            mode: \"cors\",\r\n            withCredentials: true,\r\n            credentials: 'include',\r\n            headers: {\r\n                'Authorization': bearer,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        if (response.status === 200) {\r\n            const data = await response.json();\r\n            if (data && data.status === 200) {\r\n                setCertificates(data.data)\r\n            } else {\r\n                window.alert(\"Error.\")\r\n            }\r\n        } else {\r\n            window.alert(\"Error.\")\r\n        }\r\n    } catch (e) {\r\n        history.push(\"/logout\")\r\n    }\r\n}\r\n","import React from 'react'\r\nimport {LoginForm} from \"../login-form/login-form\";\r\nimport {RegisterForm} from \"../register-form/register-form\";\r\nimport {Logout} from \"../logout/logout\";\r\nimport {Redirect, Route, Switch} from 'react-router';\r\nimport {Chat} from \"../chat/chat\";\r\nimport {CertificateStore} from \"../certificate-store/certifiacte-store\";\r\n\r\nexport const AppSwitch = props => {\r\n    const isAuth = props.currentUser\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/certificate-store\" render={() =>\r\n                (!isAuth) ? <Redirect from=\"/certificate-store\" to={\"/login\"}/> :\r\n                    <CertificateStore currentUser={props.currentUser}/>\r\n            }/>\r\n            <Route path=\"/chat\" render={() =>\r\n                (!isAuth) ? <Redirect from=\"/chat\" to={\"/login\"}/> :\r\n                    <Chat currentUser={props.currentUser}/>\r\n            }/>\r\n            <Route path=\"/login\" render={() =>\r\n                isAuth ? <Redirect to={\"/chat\"}/> :\r\n                    <LoginForm setCurrentUser={props.setCurrentUser}/>\r\n            }/>\r\n            <Route path=\"/register\">\r\n                <RegisterForm/>\r\n            </Route>\r\n\r\n            <Route path=\"/logout\" render={() =>\r\n                isAuth ?\r\n                    <Logout token={props.token} setToken={props.setToken} setCurrentUser={props.setCurrentUser}/> :\r\n                    <Redirect to={\"/login\"}/>\r\n            }/>\r\n\r\n            <Route exact path={\"/\"} render={() =>\r\n                (!isAuth) ?\r\n                    <Redirect to={\"/login\"}/> :\r\n                <Redirect to={\"/chat\"}/>\r\n            }/>\r\n        </Switch>\r\n    )\r\n}\r\n","import './App.css';\nimport React from 'react'\nimport {useSessionStorage} from \"./components/session-storage-hook/session-storage-hook\";\nimport {Links} from \"./components/links/links\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {AppSwitch} from \"./components/switch/switch\";\n\nconst App = () => {\n    const [currentUser, setCurrentUser] = useSessionStorage(\"currentUser\", undefined);\n    return (\n        <div className=\"App\">\n            <Router>\n                <div className={\"sidebar\"}>\n                    <Links currentUser={currentUser}/>\n\n                    <div className={\"content\"}>\n                        {(currentUser && currentUser.username) ? (<h1 style={{margin:\"21.4px 0\"}}>{`Welcome, ${currentUser.username}.`}</h1>) : \"\"}\n                        <AppSwitch currentUser={currentUser}\n                                   setCurrentUser={setCurrentUser}/>\n                    </div>\n                </div>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react'\r\n\r\nexport const useSessionStorage = (key, initialValue) => {\r\n\r\n    const [storedValue, setStoredValue] = React.useState(() => {\r\n        try {\r\n            const item = window.sessionStorage.getItem(key);\r\n            return item ? JSON.parse(item) : initialValue;\r\n        } catch (error) {\r\n            return initialValue;\r\n        }\r\n    });\r\n\r\n    const setValue = value => {\r\n        try {\r\n            const valueToStore =\r\n                value instanceof Function ? value(storedValue) : value;\r\n            setStoredValue(valueToStore);\r\n            window.sessionStorage.setItem(key, JSON.stringify(valueToStore));\r\n        } catch (error) {\r\n            window.alert(\"Error\")\r\n        }\r\n    };\r\n\r\n    return [storedValue, setValue];\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}